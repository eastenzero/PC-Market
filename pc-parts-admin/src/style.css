:root {
  /* ========================================================================
     iOS 26 Liquid Glass Token System
     ======================================================================== */

  /* 1. Semantic Palette (iOS System Colors) */
  --app-primary: #007aff;
  --app-success: #34c759;
  --app-warning: #ff9f0a;
  --app-danger: #ff3b30;
  --app-info: #8e8e93;

  /* 2. Surfaces & Glass Materials */
  /* Base fog background */
  --app-bg: #f5f5f7;
  
  /* Solid surface (fallback) */
  --app-surface-solid: #ffffff;
  
  /* Glass Layers: */
  /* - Surface 1: Airy, high transparency (Card, Sidebar, Header) */
  --app-surface: rgba(255, 255, 255, 0.65);
  
  /* - Surface 2: Thicker, less transparent (Dialog, Popover, Active State) */
  --app-surface-2: rgba(255, 255, 255, 0.85);

  /* - Input Field: Characteristic iOS gray field */
  --app-input-bg: rgba(0, 0, 0, 0.04);
  --app-input-bg-focus: rgba(255, 255, 255, 0.9);

  /* 3. Typography & Contrast */
  --app-text: rgba(0, 0, 0, 0.88);
  --app-text-2: rgba(60, 60, 67, 0.60);
  --app-text-3: rgba(60, 60, 67, 0.30);
  
  /* Font Family - System Stack */
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;

  /* 4. Liquid Edges & Dividers (The "Thickness" Effect) */
  --app-border: rgba(60, 60, 67, 0.08);
  --app-divider: rgba(60, 60, 67, 0.06);
  
  /* Crucial: The inner white highlight that gives "thickness" to the glass */
  --app-glass-edge: inset 0 1px 0 0 rgba(255, 255, 255, 0.4), 0 0 0 1px rgba(0,0,0,0.03);
  --app-glass-edge-strong: inset 0 1px 0 0 rgba(255, 255, 255, 0.6), 0 0 0 1px rgba(0,0,0,0.06);

  /* 5. Geometry (Softer, friendlier) */
  --app-radius-sm: 8px;
  --app-radius: 12px;   /* Standard Inputs/Buttons */
  --app-radius-lg: 18px; /* Cards, Sidebar */
  --app-radius-xl: 24px; /* Dialogs, Modals */

  /* 6. Shadows (Atmospheric & Diffused) */
  --app-shadow-1: 0 4px 12px rgba(0, 0, 0, 0.03), 0 1px 2px rgba(0, 0, 0, 0.02);
  --app-shadow-2: 0 20px 40px rgba(0, 0, 0, 0.08), 0 8px 16px rgba(0, 0, 0, 0.04);
  --app-shadow-colored: 0 8px 20px rgba(0, 122, 255, 0.25);

  /* 7. Frosting Parameters */
  --app-blur: 24px;
  --app-saturate: 160%;

  /* 8. Motion Physics */
  --app-duration: 320ms;
  --app-ease: cubic-bezier(0.2, 0.8, 0.2, 1);

  /* Spacing System */
  --sp-0: 0px;
  --sp-1: 8px;
  --sp-2: 16px;
  --sp-3: 24px;
  --sp-4: 32px;

  /* ========================================================================
     Element Plus Variable Overrides
     ======================================================================== */
  --el-font-family: inherit;
  --el-font-size-base: 14px;
  
  --el-color-primary: var(--app-primary);
  --el-color-success: var(--app-success);
  --el-color-warning: var(--app-warning);
  --el-color-danger: var(--app-danger);
  --el-color-info: var(--app-info);

  --el-text-color-primary: var(--app-text);
  --el-text-color-regular: var(--app-text-2);
  --el-text-color-secondary: var(--app-text-3);

  --el-bg-color: transparent; /* Rely on backdrop-filter mostly */
  --el-bg-color-overlay: var(--app-surface);
  --el-fill-color-blank: var(--app-surface-2);

  --el-border-color: var(--app-border);
  --el-border-color-light: var(--app-divider);
  --el-border-radius-base: var(--app-radius);
  --el-border-radius-small: var(--app-radius-sm);

  --el-box-shadow-light: var(--app-shadow-1);
  --el-box-shadow: var(--app-shadow-2);

  --el-transition-duration: 0.24s;
  --el-transition-function-ease-in-out-bezier: var(--app-ease);
}

/* Dark Mode Adaptation */
html.dark {
  --app-bg: #000000;
  --app-surface-solid: #1c1c1e;
  
  --app-surface: rgba(30, 30, 30, 0.60);
  --app-surface-2: rgba(44, 44, 46, 0.75);
  
  --app-input-bg: rgba(255, 255, 255, 0.1);
  --app-input-bg-focus: rgba(44, 44, 46, 0.8);

  --app-text: rgba(255, 255, 255, 0.92);
  --app-text-2: rgba(235, 235, 245, 0.60);
  --app-text-3: rgba(235, 235, 245, 0.30);

  --app-border: rgba(84, 84, 88, 0.30);
  --app-divider: rgba(84, 84, 88, 0.20);

  /* Delicate white shimmer for dark mode edges */
  --app-glass-edge: inset 0 1px 0 0 rgba(255, 255, 255, 0.1), 0 0 0 1px rgba(255,255,255,0.08);
  --app-glass-edge-strong: inset 0 1px 0 0 rgba(255, 255, 255, 0.15), 0 0 0 1px rgba(255,255,255,0.12);

  --app-shadow-1: 0 4px 12px rgba(0, 0, 0, 0.2);
  --app-shadow-2: 0 24px 48px rgba(0, 0, 0, 0.4);
  --app-shadow-colored: 0 8px 20px rgba(0, 122, 255, 0.15);
}

/* ========================================================================
   Global Reset & Base Styles
   ======================================================================== */
*, *::before, *::after {
  box-sizing: border-box;
}

html, body, #app {
  height: 100%;
}

body {
  margin: 0;
  min-width: 320px;
  font-size: 14px;
  line-height: 1.45;
  color: var(--app-text);
  font-weight: 400;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Atmospheric Background with Subtle Gradient Orbs */
  background: 
    radial-gradient(1400px 900px at 10% 0%, rgba(0, 122, 255, 0.08), transparent 60%),
    radial-gradient(1200px 800px at 90% 10%, rgba(175, 82, 222, 0.05), transparent 60%),
    var(--app-bg);
  background-attachment: fixed;
}

a {
  color: var(--app-primary);
  text-decoration: none;
  transition: opacity 0.2s;
}
a:hover {
  opacity: 0.8;
}

/* ========================================================================
   Component Customizations (The "Liquid Glass" Treatment)
   ======================================================================== */

/* 1. Cards (The main container) */
.el-card {
  border: none !important;
  border-radius: var(--app-radius-lg);
  background: var(--app-surface);
  box-shadow: var(--app-shadow-1), var(--app-glass-edge);
  backdrop-filter: blur(var(--app-blur)) saturate(var(--app-saturate));
  transition: transform var(--app-duration) var(--app-ease), box-shadow var(--app-duration) var(--app-ease);
}
.el-card.is-never-shadow {
  box-shadow: var(--app-glass-edge); /* Even 'no shadow' cards get the glass edge */
}
.el-card__header {
  padding: var(--sp-2);
  border-bottom: 1px solid var(--app-divider);
  font-weight: 600;
  letter-spacing: -0.3px; /* Tighter heading */
  font-size: 15px;
}
.el-card__body {
  padding: var(--sp-2);
}

/* 2. Inputs (iOS Fields) */
.el-input__wrapper,
.el-textarea__inner {
  border-radius: var(--app-radius);
  box-shadow: none !important; /* Kill default border */
  background: var(--app-input-bg);
  padding: 4px 11px;
  transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.el-input__wrapper:hover,
.el-textarea__inner:hover {
  background: rgba(0,0,0,0.06); /* Slightly darker on hover */
}
html.dark .el-input__wrapper:hover,
html.dark .el-textarea__inner:hover {
  background: rgba(255,255,255,0.15);
}
.el-input__wrapper.is-focus,
.el-textarea__inner:focus {
  background: var(--app-input-bg-focus);
  box-shadow: 0 0 0 2px var(--app-primary) !important; /* Delicate focus ring */
  transform: scale(1.005); /* Micro-scale on focus */
}

/* 3. Buttons (Plump & Tactile) */
.el-button {
  border-radius: 999px; /* Capsule */
  font-weight: 500;
  border: none;
  height: 34px; /* Slightly taller */
  padding: 8px 16px;
  transition: all var(--app-duration) var(--app-ease);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.05); /* Subtle ring for definition */
}
/* Primary Button - Glossy Blue */
.el-button--primary {
  box-shadow: var(--app-shadow-colored);
  background: linear-gradient(180deg, #007aff, #0075f2); /* Subtle gradient for volume */
}
.el-button:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}
.el-button:active {
  transform: translateY(1px) scale(0.97); /* Satisfying click */
  filter: brightness(0.95);
}

/* 4. Tags (Pills) */
.el-tag {
  border-radius: 999px;
  border: none;
  font-weight: 500;
}
.el-tag--success { background: rgba(52, 199, 89, 0.15); color: #2da84e; }
.el-tag--warning { background: rgba(255, 159, 10, 0.15); color: #d98600; }
.el-tag--danger { background: rgba(255, 59, 48, 0.15); color: #d63228; }
/* Dark mode adjustments for readability */
html.dark .el-tag--success { color: #5ee67d; }
html.dark .el-tag--warning { color: #ffb845; }
html.dark .el-tag--danger { color: #ff6e66; }

/* 5. Tables (Clean & Airy) */
.el-table {
  --el-table-row-hover-bg-color: rgba(0, 122, 255, 0.06);
  --el-table-header-bg-color: transparent;
  background-color: transparent;
}
.el-table th.el-table__cell {
  background: transparent;
  border-bottom: 1px solid var(--app-border);
  color: var(--app-text-2);
  font-weight: 600;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.el-table td.el-table__cell {
  border-bottom: 1px solid var(--app-divider);
}
.el-table__inner-wrapper::before {
  display: none; /* Remove bottom border line */
}

/* 6. Dialogs & Modals (Sheet Physics) */
.el-dialog, .el-message-box {
  background: var(--app-surface-2);
  border-radius: var(--app-radius-xl);
  box-shadow: var(--app-shadow-2), var(--app-glass-edge);
  border: none;
  backdrop-filter: blur(30px) saturate(180%);
}
.el-dialog__header, .el-message-box__header {
  padding: var(--sp-2) var(--sp-3);
  margin-right: 0;
  border-bottom: 1px solid var(--app-divider);
}
.el-dialog__title {
  font-weight: 700;
  font-size: 17px;
}
.el-overlay {
  background-color: rgba(0, 0, 0, 0.2); /* Lighter backdrop */
  backdrop-filter: blur(4px); /* Blur behind the sheet */
}

/* 7. Dropdowns & Popovers */
.el-dropdown-menu, .el-popper.is-light {
  border-radius: var(--app-radius-lg);
  border: none; /* Glass edge handles specific definition */
  background: var(--app-surface-2);
  box-shadow: var(--app-shadow-2), var(--app-glass-edge);
  backdrop-filter: blur(20px) saturate(180%);
  padding: 6px;
}
.el-popper__arrow::before {
  background: var(--app-surface-2) !important;
  border: none !important;
  box-shadow: -1px -1px 0 0 rgba(255,255,255,0.2); /* Custom arrow edge */
}
.el-dropdown-menu__item:not(.is-disabled):hover {
  background: var(--app-primary);
  color: white; /* iOS standard active state */
  border-radius: var(--app-radius-sm);
}

/* 8. Drawers (Side Sheets) */
.el-drawer {
  background: var(--app-surface-2);
  backdrop-filter: blur(30px) saturate(180%);
  box-shadow: -4px 0 20px rgba(0,0,0,0.1);
}
.el-drawer__header {
  margin-bottom: 0;
  padding: var(--sp-2);
  border-bottom: 1px solid var(--app-divider);
}

/* ========================================================================
   Helper Classes
   ======================================================================== */

/* App Toolbar (Search Bar Area) */
.app-toolbar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--sp-1);
  padding: 10px;
  margin: var(--sp-2) 0;
  border-radius: var(--app-radius-lg);
  background: var(--app-surface);
  box-shadow: var(--app-glass-edge); /* Only edge, no shadow for toolbar usually */
  backdrop-filter: blur(var(--app-blur)) saturate(140%);
}
.app-toolbar .el-form-item {
  margin-bottom: 0;
  margin-right: 8px;
}

/* Pagination Bar */
.pager {
  margin-top: var(--sp-2);
  display: flex;
  justify-content: flex-end;
  padding: 10px;
  border-radius: var(--app-radius-lg);
  background: var(--app-surface);
  box-shadow: var(--app-glass-edge);
  backdrop-filter: blur(var(--app-blur)) saturate(140%);
}
/* Pagination Buttons Override */
.el-pagination.is-background .btn-prev,
.el-pagination.is-background .btn-next,
.el-pagination.is-background .el-pager li {
  border-radius: 8px; /* Slightly rounder */
  background: var(--app-surface-2);
  border: none;
  box-shadow: var(--app-glass-edge);
  margin: 0 3px;
}
.el-pagination.is-background .el-pager li:not(.is-disabled).is-active {
  background-color: var(--app-primary);
  color: #fff;
  box-shadow: var(--app-shadow-colored);
}

/* Router Transition (Slide & Fade) */
.app-page-enter-active,
.app-page-leave-active {
  transition: opacity 0.3s ease, transform 0.3s ease;
}
.app-page-enter-from {
  opacity: 0;
  transform: translateY(10px);
}
.app-page-leave-to {
  opacity: 0;
  transform: translateY(-5px); /* Shallow exit */
}
